{% extends 'admin/master.html' %}

{% block tail_js %}
{{ super() }}

{% endblock %}
{% block body %}
<p>This will overwrite default params and trigger an adhoc run</p>

<form id="adhoc_form" class="form-horizontal" method="POST" action="{{ url_for('osm_plugin.adhoc_run') }}">
    <input name="_csrf_token" type="hidden" value="{{ csrf_token() }}">
    <div class="form-group">
        <label for="dag_id" class="col-sm-4 control-label">Dag</label>
        <div class="col-sm-8">
            <select id="dag_id" name="dag_id" form="adhoc_form">
                {% for dag_id in all_dag_ids %}
                <option value="{{ dag_id }}">{{ dag_id }}</option>
                {% endfor %}
            </select>
        </div>
    </div>

    {% for k,v in dag.params.iteritems() %}
    <div class="form-group">
        <label for="inputtest" class="col-sm-4 control-label">{{ k }}</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="inputtest" name="{{ k }}"placeholder=""
                   value="{{ v }}">
        </div>
    </div>
    {% endfor %}
    <div class="form-group">
        <div class="col-sm-offset-4 col-sm-8">
            <button type="submit" class="btn btn-default">Submit</button>
        </div>
    </div>
</form>
{% endblock %}
